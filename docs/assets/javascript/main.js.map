{"version":3,"sources":["1-helper.js","1-serviceworker-cache-polyfill.js","animation.js","box.js","helper.js","main.js","site-nav.js","start-sw.js","subnav.js","vendor.js"],"names":["isInViewport","element","rect","getBoundingClientRect","html","document","documentElement","top","left","bottom","window","innerHeight","clientHeight","right","innerWidth","clientWidth","enteredViewport","once","fn","context","result","apply","arguments","Cache","prototype","addAll","requests","cache","NetworkError","message","name","code","Object","create","Error","Promise","resolve","then","length","TypeError","sequence","map","request","Request","String","all","scheme","URL","url","protocol","fetch","clone","responses","response","i","put","undefined","addEventListener","TweenMax","onScrollAnimateBackgroundHeading","listInbetween","forEach","el","index","from","querySelector","opacity","y","ease","Power2","easeOut","delay","removeEventListener","turtleCallback","console","log","elGalleryImages","querySelectorAll","Array","slice","call","animateGalleryImage","waypoint","Waypoint","handler","direction","style","willChange","offset","elemsInbetween","elGalleryImage","fromTo","Back","to","scale","Power0","animateInbetweenBackgroundHeading","elBackgroundHeading","Power4","turtle","HTMLElement","walnut","init","imagesLoaded","instance","box","boxes","localStorage","box_has_event","clicked_box","openBox","deinit","e","preventDefault","parentElement","offsetHeight","classList","add","remove","toggle","body","closeBox","dir","target","contains","openBoxes","mediaQuery","morebtn","location","href","indexOf","item","_","aquery","elems","callback","results","push","addEvent","evnt","func","evt","attachEvent","removeEvent","event","detachEvent","get","selector","gallery","getFlickrImages","get500pxImages","siteNav","argument","elem","click","toggleActive","navigator","serviceWorker","register","registration","scope","catch","err","subNav","calcStartPosition","max_scroll","subnav","onScroll","elemRect","fixNav","scrollTop","latestKnownScrollY","ticking","scrollY","requestTick","requestAnimationFrame","update","currentScrollY","items","split","bodyRect","scrollTo"],"mappings":"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","file":"main.js","sourcesContent":["function isInViewport(element) {\n  var rect = element.getBoundingClientRect();\n  var html = document.documentElement;\n  return (\n    rect.top >= 0 &&\n    rect.left >= 0 &&\n    rect.bottom <= (window.innerHeight || html.clientHeight) &&\n    rect.right <= (window.innerWidth || html.clientWidth)\n  );\n}\nfunction enteredViewport(element) {\n  var rect = element.getBoundingClientRect();\n  var html = document.documentElement;\n  return (\n    rect.top >= 0 && rect.top <= (window.innerHeight || html.clientHeight) ||\n    rect.bottom >= 0 && rect.bottom <= (window.innerHeight || html.clientHeight)\n  );\n}\n\nfunction once(fn, context) {\n\tvar result;\n\n\treturn function() {\n\t\tif(fn) {\n\t\t\tresult = fn.apply(context || this, arguments);\n\t\t\tfn = null;\n\t\t}\n\n\t\treturn result;\n\t};\n}\n","/**\n * Copyright 2015 Google Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\nif(typeof Cache === \"function\") {\n  if (!Cache.prototype.addAll) {\n    Cache.prototype.addAll = function addAll(requests) {\n      var cache = this;\n\n      // Since DOMExceptions are not constructable:\n      function NetworkError(message) {\n        this.name = 'NetworkError';\n        this.code = 19;\n        this.message = message;\n      }\n      NetworkError.prototype = Object.create(Error.prototype);\n\n      return Promise.resolve().then(function() {\n        if (arguments.length < 1) throw new TypeError();\n\n        // Simulate sequence<(Request or USVString)> binding:\n        var sequence = [];\n\n        requests = requests.map(function(request) {\n          if (request instanceof Request) {\n            return request;\n          }\n          else {\n            return String(request); // may throw TypeError\n          }\n        });\n\n        return Promise.all(\n          requests.map(function(request) {\n            if (typeof request === 'string') {\n              request = new Request(request);\n            }\n\n            var scheme = new URL(request.url).protocol;\n\n            if (scheme !== 'http:' && scheme !== 'https:') {\n              throw new NetworkError(\"Invalid scheme\");\n            }\n\n            return fetch(request.clone());\n          })\n        );\n      }).then(function(responses) {\n        // TODO: check that requests don't overwrite one another\n        // (don't think this is possible to polyfill due to opaque responses)\n        return Promise.all(\n          responses.map(function(response, i) {\n            return cache.put(requests[i], response);\n          })\n        );\n      }).then(function() {\n        return undefined;\n      });\n    };\n  }\n}\n","\nwindow.addEventListener(\"DOMContentLoaded\", (function () {\n  if(typeof TweenMax === \"function\") {\n\n    var elemsInbetween  = document.querySelectorAll(\".homeBackground\"),\n        elGalleryImage  = document.querySelector(\".homePhoto_gallery img\"),\n        listInbetween   = Array.prototype.slice.call(elemsInbetween,0);\n\n    TweenMax.fromTo(\".homeIntro_textWelcome\", 3, {y: -70, delay: 0.5}, { opacity: 1, y:0, ease:Back.easeOut });\n    TweenMax.to(\".homeIntro_background\", 40, {scale: 1.2, ease:Power0.easeOut, delay: 1.5});\n\n    window.addEventListener(\"scroll\", onScrollAnimateBackgroundHeading);\n\n    function onScrollAnimateBackgroundHeading(){\n      listInbetween.forEach(function(el, index) {\n        if( enteredViewport(el) ) {\n          TweenMax.from(el.querySelector(\".homeBackground_heading\"), 1.4, {opacity: 0, y: -40, ease:Power2.easeOut, delay: 0.5});\n          window.removeEventListener(\"scroll\", onScrollAnimateBackgroundHeading);\n          // animateInbetweenBackgroundHeading(el);\n        }\n      });\n    }\n\n    var animateInbetweenBackgroundHeading = once(function(el) {\n      TweenMax.from(el.querySelector(\".homeBackground_heading\"), 1.4, {opacity: 0, y: -40, ease:Power2.easeOut, delay: 0.5});\n    });\n\n    var animateGalleryImage = once(function() {\n      var elBackgroundHeading = document.querySelectorAll(\".homePhoto_gallery img\");\n      TweenMax.to(elBackgroundHeading, 3, {scale: 1, ease:Power4.easeOut, delay: 0});\n    });\n\n    window.addEventListener(\"DOMContentLoaded\", (function (turtle) {\n      if(document.querySelector(\"[walnut-script]\") instanceof HTMLElement) {\n        walnut.init();\n      }\n    })(turtle));\n\n    imagesLoaded( document.querySelector('.homePhoto_gallery'), function( instance ) {\n      console.log('all images are loaded');\n      turtle.init(turtleCallback);\n    });\n\n    function turtleCallback() {\n      // Runs after TurtleJS\n      // Initiates animation when in view\n      console.log(\"TurtleJS finished\");\n      var elGalleryImages = document.querySelectorAll(\".homePhoto_gallery img\");\n      elGalleryImages = Array.prototype.slice.call(elGalleryImages,0);\n\n      elGalleryImages.forEach( function(element, index) {\n        if(isInViewport(element)) {\n          animateGalleryImage();\n        }\n      });\n\n      // window.addEventListener(\"scroll\", animateGallery);\n\n      var waypoint = new Waypoint({\n        element: document.querySelector(\".homePhoto_gallery\"),\n\n        handler: function(direction) {\n          // console.log(\"Trigger waypoints \" + direction);\n          // notify(this.element.id + ' triggers at ' + this.triggerPoint);\n          var elGalleryImages = document.querySelectorAll(\".homePhoto_gallery img\");\n          for (var i = 0; i < elGalleryImages.length; i++) {\n            elGalleryImages[i].style.willChange = \"transform\";\n          }\n          animateGalleryImage();\n          // window.removeEventListener(\"scroll\", animateGallery);\n        },\n        offset: \"200\"\n      });\n\n     };\n\n\n  } // End if TweenLite\n\n})());\n\n\n\n\n","\n(function box() {\n\n\tvar boxes = document.querySelectorAll(\".boxPreview\");\n\tlocalStorage.box_has_event = false;\n\tlocalStorage.clicked_box = \"\";\n\n\tfunction init() {\n\t\tfor (var i = 0; i < boxes.length; i++) {\n\t\t\tboxes[i].addEventListener(\"click\", openBox);\n\t\t}\n\t}\n\tfunction deinit() {\n\t\tfor (var i = 0; i < boxes.length; i++) {\n\t\t\tboxes[i].removeEventListener(\"click\", openBox);\n\t\t}\n\t}\n\n\n\tfunction openBox(e) {\n\t\te.preventDefault();\n\t\tif( this.parentElement.querySelector(\".boxFull_inner\").offsetHeight > window.innerHeight ) {\n\t\t\tthis.parentElement.classList.add(\"boxFull-stickToTop\");\n\t\t} else {\n\t\t\tthis.parentElement.classList.remove(\"boxFull-stickToTop\");\n\t\t}\n\t\tthis.parentElement.classList.toggle(\"box_item--open\");\n\t\tdocument.body.classList.toggle(\"body-boxItem-open\");\n\n\t\tthis.parentElement.querySelector(\".box_image\").addEventListener(\"click\", closeBox);\n\t}\n\n\tfunction closeBox(e) {\n    console.dir(e.target);\n    if(e.target.classList.contains(\"boxImage_closeButton\") || typeof e.target.parentElement === \"object\") {\n      e.preventDefault();\n    }\n    else {\n      debugger;\n    }\n\t\tdocument.body.classList.remove(\"body-boxItem-open\");\n\t\tvar openBoxes = document.querySelectorAll(\".box_item--open\");\n\t\tfor (var i = 0; i < openBoxes.length; i++) {\n\t\t\tif(openBoxes[i] != this) {\n\t\t\t\topenBoxes[i].classList.remove(\"box_item--open\");\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction mediaQuery () {\n\t\tif (window.innerWidth < 600) {\n\t\t\tif(localStorage.box_has_event === \"false\") {\n\t\t\t\tlocalStorage.box_has_event = \"true\";\n\t\t\t\tinit();\n\t\t\t}\n\n\t\t} else {\n\t\t\tdeinit();\n\t\t\tlocalStorage.box_has_event = \"false\";\n\t\t\tdocument.body.classList.remove(\"body-boxItem-open\");\n\t\t}\n\t}\n\n\twindow.addEventListener('resize', mediaQuery);\n\twindow.addEventListener('orientationchange', mediaQuery);\n\tmediaQuery();\n\n\n\tvar morebtn = document.querySelectorAll(\".box_moreBtn\");\n\n\tfor (var i = 0; i < morebtn.length; i++) {\n\t\tmorebtn[i].addEventListener(\"click\", function() {\n \t\t\tlocation.href = this.href;\n\t\t});\n\t}\n\n}())\n","if (typeof Array.prototype.indexOf !== 'function') {\n    Array.prototype.indexOf = function (item) {\n        for(var i = 0; i < this.length; i++) {\n            if (this[i] === item) {\n                return i;\n            }\n        }\n        return -1;\n    };\n}\n\nwindow._ = (function () {\n\n    function aquery(elems) {\n      for(var i = 0; i < elems.length; i++ ) {\n        this[i] = elems[i];\n      }\n      this.length = elems.length;\n    }\n\n    aquery.prototype = {\n      map: function (callback) {\n        var results = [], i = 0;\n        for ( ; i < this.length; i++) {\n          results.push(callback.call(this, this[i], i));\n        }\n        return results;\n      },\n      forEach: function (callback) {\n          this.map(callback);\n          return this;\n      },\n      addEvent: function(evnt, func) {\n        if (document.addEventListener) {\n          return function (evt, fn) {\n            return this.forEach(function (el) {\n              el.addEventListener(evt, fn, false);\n            });\n          };\n        } else if (document.attachEvent)  {\n          return function (evt, fn) {\n            return this.forEach(function (el) {\n              el.attachEvent(\"on\" + evt, fn);\n            });\n          };\n        } else {\n          return function (evt, fn) {\n            return this.forEach(function (el) {\n              el[\"on\" + evt] = fn;\n            });\n          };\n        }\n      },\n      removeEvent: function(event, func){\n          if (this.removeEventListener) {                   // For all major browsers, except IE 8 and earlier\n              this.removeEventListener(event, func);\n          } else if (this.detachEvent) {                    // For IE 8 and earlier versions\n              this.detachEvent('on'+event, func);\n          }\n      }\n    }\n\n    var _ = {\n        get: function (selector) {\n          var elems;\n          if (typeof selector === \"string\") {\n              elems = document.querySelectorAll(selector);\n          } else if (selector.length) {\n              elems = selector;\n          } else {\n              elems = [selector];\n          }\n          return new aquery(elems);\n        }\n    };\n\n    return _;\n}());\n","// function onScroll (evt) {\n\n//   // Store the scroll value for laterz.\n//   var lastScrollY = window.scrollY;\n\n//   // Prevent multiple rAF callbacks.\n//   if (scheduledAnimationFrame) {\n//     return;\n//   }\n\n//   var scheduledAnimationFrame = true;\n//   requestAnimationFrame(evt);\n// }\n\n(function gallery() {\n\n    function getFlickrImages() {\n\n    }\n\n    function get500pxImages() {\n\n    }\n\n})();\n\n\n","(function siteNav (argument) {\n\tvar elem = document.querySelector(\".siteNav_menu\");\n\n\n\tfunction click() {\n\t\telem.addEventListener(\"click\", toggleActive);\n\t}\n\n\tfunction toggleActive (e) {\n\t\tdocument.body.classList.toggle(\"siteNav-mobile--active\");\n\t}\n\n\tclick();\n}());\n","if ('serviceWorker' in navigator) {\n  navigator.serviceWorker.register('/service-worker.js').then(function(registration) {\n    // Registration was successful\n    console.log('ServiceWorker registration successful with scope: ',    registration.scope);\n  }).catch(function(err) {\n    // registration failed :(\n    console.log('ServiceWorker registration failed: ', err);\n  });\n} else {\n\tconsole.log('No support for service worker');\n}","if(document.querySelector(\".subNav\") instanceof HTMLElement) {\n\n(function subNav(TweenMax) {\n\n\twindow.addEventListener(\"resize\", function () {\n\t\t calcStartPosition();\n\t});\n\n\tvar max_scroll = 0,\n\t\tsubnav = document.querySelector(\".subNav\");\n\n\tcalcStartPosition();\n\n\n\tif (document.querySelector('.subNav') instanceof HTMLElement) {\n\t    window.addEventListener('scroll', onScroll);\n\t}\n\n\tfunction calcStartPosition() {\n\t\tvar body = document.body.getBoundingClientRect(),\n\t\t    elemRect = subnav.getBoundingClientRect(),\n\t\t    offset   = elemRect.top - body.top;\n\t\t    max_scroll = offset;\n\t}\n\n\tfunction fixNav() {\n\n\t    var scrollTop = document.documentElement.scrollTop || document.body.scrollTop;\n\n\t    if (scrollTop > max_scroll && !subnav.classList.contains('subNavFixed')) {\n\t        subnav.classList.add('subNavFixed');\n\n\t    } else if (scrollTop < max_scroll && subnav.classList.contains('subNavFixed')) {\n\t        subnav.classList.remove('subNavFixed');\n\n\t    }\n\t}\n\n\tvar latestKnownScrollY = 0,\n\t\tticking = false;\n\n\tfunction onScroll() {\n\t\tlatestKnownScrollY = window.scrollY;\n\t\trequestTick();\n\t}\n\n\tfunction requestTick() {\n\t\tif(!ticking) {\n\t\t\trequestAnimationFrame(update);\n\t\t}\n\t\tticking = true;\n\t}\n\n\tfunction update() {\n\t\t// reset the tick so we can\n\t\t// capture the next onScroll\n\t\tticking = false;\n\n\t\tvar currentScrollY = latestKnownScrollY;\n\n\t\tfixNav();\n\n\t\t// read offset of DOM elements\n\t\t// and compare to the currentScrollY value\n\t\t// then apply some CSS classes\n\t\t// to the visible items\n\t}\n\n\n\tvar items = _.get(\".anchor-link\");\n\n\tfor (var i = 0; i < items.length; i++) {\n\n\t\titems[i].addEventListener(\"click\", function(e) {\n\t\t\tvar href = this.href;\n\t\t\thref = href.split(\"/\");\n\t\t\thref = href[href.length-1];\n\t\t\tvar elem = _.get(href)[0];\n\t\t\t// var y = elem.getBoundingClientRect().top;\n\n\t\t\tvar bodyRect = document.body.getBoundingClientRect(),\n\t\t\t    elemRect = elem.getBoundingClientRect(),\n\t\t\t    offset   = elemRect.top - bodyRect.top;\n\n\t\t\te.preventDefault();\n\t\t\tTweenMax.to(window, 2, {scrollTo:{y:offset}, ease:Power4.ease});\n\t\t});\n\t}\n\n\n})(TweenMax);\n\n}\n\n",""]}